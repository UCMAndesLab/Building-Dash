<!DOCTYPE html>
<html>
<head>
	<title>testView</title>
		<script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
		<script type="text/javascript">
			function mouseover(){
				var readData = {{.ReadData}}; 


				var path = {{.Path}};

				var title = path; 

				var uuid = readData.uuid; 

				var series1 = {
					type: "spline",
					name: "Values",
					showInLegend: true,
					markerType: "none"
				}; 

				var chart = new CanvasJS.Chart("chart"); 

				chart.options.animationEnabled = true; 
				chart.options.title = {text: title}; 

				chart.options.axisX = {
					valueFormatString: "hh-TT-K",
					title: "time",
					intervalType: "minute",
					interval: 1
				}; 

				chart.options.axisY = {valueFormatString: "##.##0"}; 
				chart.options.data = []; 
				chart.options.data.push(series1); 

				testData = readData.Readings; 

				var dp = []; 

				series1.dataPoints = []; 

				for(i = 0; i < testData.length; ++i){
					dp.push({x: new Date(testData[i].Time), y: testData[i].Value});
				}

				series1.dataPoints = series1.dataPoints.concat(dp); 

				chart.render(); 

			}
			window.onclick = mouseover; 
			function toggleNavPanel(x){
				var panel = document.getElementById(x), navarrow = document.getElementById("navarrow"), maxH = "300px"; 

				if(panel.style.height == maxH){
					panel.style.height = "0px"; 
					navarrow.innerHTML = "&#9662;"; 
				}else{
					panel.style.height = maxH; 
					navarrow.innerHTML = " &#9652;"; 

				}
			}

		
		</script>
		<style type="text/css">
			div#topbar >#logo{
				float:left;
				width: 140px;
				height: 35px;
				margin: 8px 0px 0px 30px;
				font-size: 36px;
				color: #999; 
			}
			div#topbar > #sections_btn_holder{
				float:left;
				width: 100%; 
				height: 46px;
				padding-top:50px; 
			}
			div#topbar > #sections_btn_holder > button{

				background: #12a3a7; 
			}
			div#topbar > #sections_panel{
				position: relative;
				height: 300px; 
				width: 80%;
			
				top:5px; 
				left:160px; 
				border-radius: 0px 0px 8px 8px; 
				overflow: hidden;
				z-index: 10000; 
				
			}
			div#topbar > #sections_panel > div{
				background: : #333;
				padding: 20px; 
				height: 226px; 
				margin:10px;
				color: #FC0;
			}
			
		</style>
</head>
<body>
	

	<div id="topbar">
		<div id="logo">Building Dash</div>
		<div id="sections_btn_holder">
			<button onclick="toggleNavPanel('sections_panel')">{{.Path}}<span id="navarrow">
				&#9662;
			</span>
			</button>
		</div>
		<div id="sections_panel" onclick="false">
		<div id="chart">
			
		</div>

	</div>



</html>