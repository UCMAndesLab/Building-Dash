<html>
	<head>
		<title>results</title>
			<script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
			<script type="text/javascript">

			window.onload = function () {
				/*var chart = new CanvasJS.Chart("chartContainer", {
					title:{
						text: "My First Chart in CanvasJS"              
					},
					data: [              
					{
						// Change type to "doughnut", "line", "splineArea", etc.
						type: "column",
						dataPoints: [
							{ label: "apple",  y: 10  },
							{ label: "orange", y: 15  },
							{ label: "banana", y: 25  },
							{ label: "mango",  y: 30  },
							{ label: "grape",  y: 28  }
						]
					}
					]
				});*/
				var readData = {{.ReadData}};

				//var testData = readData[0].Readings; 

				//var uuid = String(readData[i].Uuid); 
				//alert(Uuid); 
				var title = {{.Title}}

				
				var series1 = {
					type: "spline",
					name: "Values",
					showInLegend: true,
					markerType: "none"
				};
					
				var chart = new CanvasJS.Chart("chartContainer");
					//alert(readData[i].Readings);
				chart.options.animationEnabled = true; 
				chart.options.title = {text: title}; 
				chart.options.axisX = {
					valueFormatString: "hh-TT-K",
					title: "time",
					intervalType: "minute",
					interval: 1
				}; 
				chart.options.axisY = {valueFormatString: "##.##0"};
				chart.options.data = []; 
				chart.options.data.push(series1); 

				testData = readData[0].Readings; 
				var dp = []; 
				series1.dataPoints = []; 
				for(j = 0; j < testData.length; j++){
						//alert(testData[i].Value)
						//alert(testData[j].Value);
					dp.push({x: new Date(testData[j].Time), y: testData[j].Value}); 
				}
					
				series1.dataPoints = series1.dataPoints.concat(dp);

				chart.render(); 
				
				var chart = new CanvasJS.Chart("chart2");
					//alert(readData[i].Readings);
				chart.options.animationEnabled = true; 
				chart.options.title = {text: title}; 
				chart.options.axisX = {
					valueFormatString: "hh-TT-K",
					title: "time",
					intervalType: "minute",
					interval: 1
				}; 
				chart.options.axisY = {valueFormatString: "##.##0"};
				chart.options.data = []; 
				chart.options.data.push(series1); 

				testData = readData[1].Readings; 
				var dp = []; 
				series1.dataPoints = []; 
				for(j = 0; j < testData.length; j++){
						//alert(testData[i].Value)
						//alert(testData[j].Value);
					dp.push({x: new Date(testData[j].Time), y: testData[j].Value}); 
				}
					
				series1.dataPoints = series1.dataPoints.concat(dp);

				chart.render(); 
			
				
			}
			</script>
	</head>
	<body>
		<h1>{{.Title}}</h1>
		<p>[<a href="/query/">Search</a>]</p>
		<!--<ol>
			{{range .ReadData}}
				<!-{{range .Readings}}
				<li>
					<p>Time: {{.Time}}</p>
					<p>Value: {{.Value}}</p>
				</li>
				{{end}} 
				<li>
					<p>Metadata: </p>
					<p> {{.Metadata}}</p>
				</li>

				
			{{end}}
		</ol>-->
		<div id= "chartContainer" style="height: 300px; width:100%;"></div>
		<div id= "chart2" style="height: 300px; width: 100%;"></div>

	</body>
</html>

